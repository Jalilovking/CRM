<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="css/admin.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/boxicons@latest/css/boxicons.min.css">    
</head>

<body id="body-pd" class="body-pd">
    
    
    
    <header class="header body-pd" id="header">
        <h1>Groups</h1>
        <div class="header_toggle"> <i class='bx bx-menu' id="header-toggle"></i> </div>
    </header>
    <div class="l-navbar show" id="nav-bar">
        <nav class="nav">
            <div> 
                <a href="/admin" class="nav_logo"> <i class='bx bx-layer nav_logo-icon'></i> <span class="nav_logo-name">BBBootstrap</span> </a>
                
                <div class="nav_list"> 
                    <a href="/admin" class="nav_link"> <i class='bx bx-grid-alt nav_icon'></i> <span class="nav_name">Dashboard</span> </a> 
                    <a href="./studentsInfo" class="nav_link"> <i class='bx bx-user nav_icon'></i> <span class="nav_name">Students</span> </a> 
                    <a href="./teachersInfo" class="nav_link"> <i class='bx bx-message-square-detail nav_icon'></i> <span class="nav_name">Teachers</span> </a> 
                    <a href="./groupsInfo" class="nav_link active"> <i class='bx bx-bookmark nav_icon'></i> <span class="nav_name">Groups</span> </a> 
                    <a href="./courseInfo" class="nav_link"> <i class='bx bx-folder nav_icon'></i> <span class="nav_name">Courses</span> </a>  
                </div>
            </div> 
            <a href="/logout" class="nav_link"> <i class='bx bx-log-out nav_icon'></i> <span class="nav_name">SignOut</span> </a>
        </nav>
    </div>
    <!--Container Main start-->
    <div class="height-100 bg-light" style="height: 90vh;">

        <h2>List of groups</h2>

        <div class="container">
            <table class="table">
                <thead>
                    <tr>
                        <th scope="col">#</th>
                        <th scope="col">Name</th>
                        <th scope="col">Teacher</th>
                        <th scope="col">Students</th>
                    </tr>
                </thead>
                <tbody>
                    <% for(let i of allGroups) { %>
                    <tr>
                        <th scope="row"><%= count++ %></th>
                        <td><%= i.username %></td>
                        <td><%= allTeachers.find(e => e.id == i.teacher).username %></td>
                        <td><%= allStudents.filter(e => e.group == i.id).length %></td>
                    </tr>
                    <% } %>
                </tbody>
            </table>
    
            <div class="modal">
                <div class="modal__wrapper">
                    <form action="/addGroup" method="post" enctype="application/x-www-form-urlencoded">
                        <label class="form-label" for="username">Name</label>
                        <input class="form-control" id="username" type="text" name="username" placeholder="Name" required>
                        <label class="form-label" for="course">Courses</label>
                        <select class="form-select" name="course" id="course" required>
                            <option disabled selected value="none" >Choose course</option>
                            <% for (let i of allCourses) { %>
                                <option value=<%= i.id %> ><%= i.courseName %></option>
                                
                            <% } %>
                        </select>
                        <label class="form-label" for="teacher">Teacher</label>
                        <select class="form-select" name="teacher" id="teacher" required>
                            <option disabled selected value="none" >Choose teacher</option>
                            <% for (let i of allTeachers) { %>
                                <option value=<%= i.id %> ><%= i.username %></option>
                                
                            <% } %>
                        </select><br>
                        <button class="btn btn-primary mb-3" type="submit">Submit</button>
                    </form>
                </div>
            </div>
        </div>
    </div>
    

    <script>

    </script>
</body>
</html>